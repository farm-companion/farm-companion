# Farm Companion Environment Variables Template
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to version control

# Database Configuration (PostgreSQL via Supabase)
# Direct connection for migrations and admin operations
DATABASE_URL="postgresql://postgres.xxx:password@aws-0-region.pooler.supabase.com:5432/postgres"

# Pooled connection for application queries (recommended for production)
# Query parameters optimize for serverless:
# - pgbouncer=true: Enable Supabase's connection pooler
# - connection_limit=10: Max 10 connections per Prisma instance
# - pool_timeout=20: Wait up to 20s for available connection
# - connect_timeout=10: Establish new connection within 10s
DATABASE_POOLER_URL="postgresql://postgres.xxx:password@aws-0-region.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=10&pool_timeout=20&connect_timeout=10"

# Redis Configuration (Vercel KV or Upstash)
REDIS_URL="redis://username:password@host:port/database"

# AI Services
DEEPSEEK_API_KEY="sk-your-deepseek-api-key-here"

# Email Services
RESEND_API_KEY="re_your-resend-api-key-here"

# Application Configuration
NEXT_PUBLIC_SITE_URL="https://www.farmcompanion.co.uk"
NEXT_PUBLIC_PHOTO_SYSTEM_URL="https://farmcompanion.co.uk"

# Admin Configuration (CHANGE THESE IN PRODUCTION!)
ADMIN_EMAIL="admin@farmcompanion.co.uk"
ADMIN_PASSWORD="your-secure-admin-password-here"

# Photo System Configuration
MAX_PHOTOS_PER_FARM=5
MAX_FILE_SIZE=5242880
AUTO_APPROVE_THRESHOLD=7.5
AI_CONFIDENCE_THRESHOLD=0.8

# Farm Photos System Configuration
FARM_PHOTOS_API_URL="https://your-farm-photos-api.vercel.app"
PHOTOS_API_BASE="https://your-farm-photos-api.vercel.app"

# Development Configuration
NODE_ENV="development"
VERCEL_ENV="development"

# Security Configuration (Optional)
TURNSTILE_SECRET_KEY="your-cloudflare-turnstile-secret-key"
RECAPTCHA_SECRET_KEY="your-google-recaptcha-secret-key"

# Vercel KV Configuration (for rate limiting)
VERCEL_KV_REST_API_URL="https://your-kv-rest-api.vercel.app"
VERCEL_KV_REST_API_TOKEN="your-kv-rest-api-token"

# Feature Flags
ADD_FORM_ENABLED="true"
CONTACT_FORM_ENABLED="true"
NEXT_PUBLIC_CONTACT_FORM_ENABLED="true"

# Contact Form Configuration
CONTACT_TO_EMAIL="hello@farmcompanion.co.uk"
CONTACT_FROM_EMAIL="noreply@farmcompanion.co.uk"

# Upstash Redis Configuration (for rate limiting)
UPSTASH_REDIS_REST_URL="https://your-upstash-redis.upstash.io"
UPSTASH_REDIS_REST_TOKEN="your-upstash-redis-token"

# Google Analytics 4 Configuration
NEXT_PUBLIC_GA_MEASUREMENT_ID="G-FQ0B9L8MFE"
NEXT_PUBLIC_GA_MEASUREMENT_ID_DEV="G-FQ0B9L8MFE"
NEXT_PUBLIC_GA_ENABLED="true"

# Google Maps API Configuration (SECURITY: Use separate keys for different contexts)
# Frontend Web Key (HTTP referrer restricted)
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY="your_frontend_web_key_here"

# Backend Server Keys (IP address restricted)
GOOGLE_MAPS_API_KEY="your_backend_server_key_here"
GOOGLE_PLACES_API_KEY="your_backend_server_key_here"

# API Testing Key (IP address restricted for server-side testing)
GOOGLE_MAPS_API_KEY_TESTING="your_api_testing_key_here"
